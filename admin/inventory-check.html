<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Kiá»ƒm tra tá»“n kho</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="sidebar.css">
  <link rel="stylesheet" href="inventory-check.css">
  <link rel="stylesheet" href="inventory.css">
  <link rel="stylesheet" href="loading.css">
  <link rel="stylesheet" href="navigation.css">
</head>
<body>

<!-- Sidebar Navigation - Loaded from sidebar.html -->
<div id="sidebar-container"></div>
<button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="Toggle menu">â˜°</button>

<header class="topbar">
  <div class="container">
    <h1>ğŸ” Kiá»ƒm tra tá»“n kho</h1>
    <div class="session-actions">
      <div id="session-info" class="session-info"></div>
      <button id="btn-logout" class="btn-logout hidden" type="button">ÄÄƒng xuáº¥t</button>
    </div>
  </div>
</header>

<main class="container">
  <section class="card" id="login-section">
    <h2>ÄÄƒng nháº­p quáº£n trá»‹</h2>
    <div class="grid">
      <div>
        <label>API KEY</label>
        <input id="api_key" type="text" placeholder="API KEY">
      </div>
      <div>
        <label>Email owner</label>
        <input id="email" type="email" placeholder="owner@shop.com">
      </div>
      <div>
        <label>Password owner</label>
        <input id="password" type="password" placeholder="password">
      </div>
    </div>
    <button id="btn-login">ÄÄƒng nháº­p</button>
  </section>

  <section class="card">
    <div class="card-header">
      <h2>Tra cá»©u tá»“n kho theo mÃ£ sáº£n pháº©m</h2>
    </div>
    <div class="grid">
      <div>
        <div class="product-combobox">
          <div class="product-combobox-input-wrap">
            <input
              type="text"
              id="product_search"
              class="product-combobox-input"
              placeholder="TÃ¬m hoáº·c chá»n sáº£n pháº©m..."
              autocomplete="off"
              aria-autocomplete="list"
              aria-expanded="false"
              aria-haspopup="listbox"
            >
            <span id="product_loading" class="product-combobox-loading" aria-hidden="true">â³</span>
          </div>
          <input type="hidden" id="product_id">
          <div id="product_dropdown" class="product-combobox-dropdown" role="listbox" aria-hidden="true"></div>
        </div>
      </div>
    </div>
    <button id="btn-check" style="display: none;">Kiá»ƒm tra</button>
    <div id="result" class="result"></div>
  </section>
</main>

<script src="loading.js"></script>
<script src="auth.js"></script>
<script src="cache.js"></script>
<script src="common.js"></script>
<script src="worker-api.js"></script>
<script>
  // Load sidebar HTML from sidebar.html
  (function() {
    fetch('sidebar.html')
      .then(response => {
        if (!response.ok) {
          throw new Error('Failed to load sidebar');
        }
        return response.text();
      })
      .then(html => {
        document.getElementById('sidebar-container').innerHTML = html;
        // Initialize sidebar after loading
        const script = document.createElement('script');
        script.src = 'sidebar.js';
        script.onload = function() {
          console.log('âœ… Sidebar loaded and initialized');
        };
        document.body.appendChild(script);
      })
      .catch(err => {
        console.error('âŒ Error loading sidebar:', err);
        // Fallback: show error message
        document.getElementById('sidebar-container').innerHTML = 
          '<div style="padding: 20px; color: #ef4444;">Error loading sidebar</div>';
      });
  })();
</script>
<script src="inventory-check.js"></script>
</body>
</html>
