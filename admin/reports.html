<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>B√°o c√°o & Th·ªëng k√™</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="reports.css">
  <link rel="stylesheet" href="loading.css">
  <link rel="stylesheet" href="navigation.css">
</head>
<body>

<header class="topbar">
  <div class="container">
    <h1>üìä B√°o c√°o & Th·ªëng k√™</h1>
    <div class="session-actions">
      <div id="session-info" class="session-info"></div>
      <button id="btn-logout" class="btn-logout hidden" type="button">ƒêƒÉng xu·∫•t</button>
    </div>
  </div>
</header>

<main class="container">
  <section class="card" id="login-section">
    <h2>ƒêƒÉng nh·∫≠p qu·∫£n tr·ªã</h2>
    <div class="grid">
      <div>
        <label>API KEY</label>
        <input id="api_key" type="text" placeholder="API KEY">
      </div>
      <div>
        <label>Email owner</label>
        <input id="email" type="email" placeholder="owner@shop.com">
      </div>
      <div>
        <label>Password owner</label>
        <input id="password" type="password" placeholder="password">
      </div>
    </div>
    <button id="btn-login">ƒêƒÉng nh·∫≠p</button>
  </section>

  <div class="card-actions top-actions">
    <a class="btn-secondary link-btn btn-large" href="/admin/products.html">
      <span class="btn-icon">üß©</span>
      <span class="btn-text">S·∫£n ph·∫©m</span>
    </a>
    <a class="btn-secondary link-btn btn-large" href="/admin/orders.html">
      <span class="btn-icon">üõí</span>
      <span class="btn-text">ƒê∆°n h√†ng</span>
    </a>
    <a class="btn-secondary link-btn btn-large" href="/admin/inventory.html">
      <span class="btn-icon">üì¶</span>
      <span class="btn-text">Qu·∫£n l√Ω kho</span>
    </a>
    <a class="btn-secondary link-btn btn-large" href="/admin/invoices.html">
      <span class="btn-icon">üßæ</span>
      <span class="btn-text">H√≥a ƒë∆°n</span>
    </a>
    <a class="btn-secondary link-btn btn-large" href="/admin/settings.html">
      <span class="btn-icon">‚öôÔ∏è</span>
      <span class="btn-text">C√†i ƒë·∫∑t</span>
    </a>
    <a class="btn-secondary link-btn btn-large" href="/admin/inventory-check.html">
      <span class="btn-icon">üîç</span>
      <span class="btn-text">Ki·ªÉm tra t·ªìn kho</span>
    </a>
  </div>

  <!-- Dashboard T·ªïng quan -->
  <section class="card">
    <h2>üìà T·ªïng quan</h2>
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-value" id="total-products">-</div>
        <div class="stat-label">T·ªïng s·∫£n ph·∫©m</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="total-stock">-</div>
        <div class="stat-label">T·ªïng t·ªìn kho</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="total-value">-</div>
        <div class="stat-label">Gi√° tr·ªã t·ªìn kho</div>
      </div>
      <div class="stat-card alert">
        <div class="stat-value" id="low-stock-count">-</div>
        <div class="stat-label">S·∫£n ph·∫©m s·∫Øp h·∫øt</div>
      </div>
    </div>
  </section>

  <!-- H√†ng s·∫Øp h·∫øt -->
  <section class="card">
    <div class="card-header">
      <h2>‚ö†Ô∏è H√†ng s·∫Øp h·∫øt (‚â§ 10)</h2>
      <div class="filter-group">
        <label>Ng∆∞·ª°ng:</label>
        <input id="threshold" type="number" value="10" min="0" style="width: 80px;">
        <button id="btn-refresh-low-stock" class="btn-small">L√†m m·ªõi</button>
      </div>
    </div>
    <div class="table-wrap">
      <table id="low-stock-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Title</th>
            <th class="text-center">T·ªìn</th>
            <th class="text-center">Gi√°</th>
          </tr>
        </thead>
        <tbody>
          <tr><td colspan="4" class="muted">ƒêƒÉng nh·∫≠p ƒë·ªÉ t·∫£i d·ªØ li·ªáu...</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- Gi√° tr·ªã t·ªìn kho -->
  <section class="card">
    <div class="card-header">
      <h2>üí∞ Gi√° tr·ªã t·ªìn kho chi ti·∫øt</h2>
      <div class="summary-total">
        T·ªïng c·ªông: <strong id="grand-total">-</strong>
      </div>
    </div>
    <div class="table-wrap">
      <table id="stock-value-table" class="detail-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Title</th>
            <th class="text-center">T·ªìn hi·ªán t·∫°i</th>
            <th class="text-center">Gi√° tr·ªã nh·∫≠p</th>
            <th class="text-center">Gi√° tr·ªã xu·∫•t</th>
            <th class="text-center">Gi√° tr·ªã t·ªìn</th>
            <th class="text-center">Chi ti·∫øt</th>
          </tr>
        </thead>
        <tbody>
          <tr><td colspan="7" class="muted">ƒêƒÉng nh·∫≠p ƒë·ªÉ t·∫£i d·ªØ li·ªáu...</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- B√°o c√°o nh·∫≠p xu·∫•t t·ªìn -->
  <section class="card">
    <div class="card-header">
      <h2>üì¶ B√°o c√°o nh·∫≠p - xu·∫•t - t·ªìn</h2>
      <div class="filter-group">
        <label>T·ª´:</label>
        <input id="from-date" type="date">
        <label>ƒê·∫øn:</label>
        <input id="to-date" type="date">
        <button id="btn-filter-movement" class="btn-small">L·ªçc</button>
      </div>
    </div>
    <div class="table-wrap">
      <table id="movement-report-table">
        <thead>
          <tr>
            <th>Product ID</th>
            <th class="text-center">Nh·∫≠p (SL)</th>
            <th class="text-center">Nh·∫≠p (Gi√° tr·ªã)</th>
            <th class="text-center">Xu·∫•t (SL)</th>
            <th class="text-center">Xu·∫•t (Gi√° tr·ªã)</th>
            <th class="text-center">ƒêi·ªÅu ch·ªânh</th>
          </tr>
        </thead>
        <tbody>
          <tr><td colspan="6" class="muted">ƒêƒÉng nh·∫≠p ƒë·ªÉ t·∫£i d·ªØ li·ªáu...</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- B√°o c√°o doanh thu -->
  <section class="card">
    <div class="card-header">
      <h2>üí∞ B√°o c√°o doanh thu</h2>
      <div class="filter-group">
        <label>Nh√≥m theo:</label>
        <select id="sales-period" style="width: 120px;">
          <option value="day">Ng√†y</option>
          <option value="week">Tu·∫ßn</option>
          <option value="month" selected>Th√°ng</option>
        </select>
        <label>T·ª´:</label>
        <input id="sales-from-date" type="date">
        <label>ƒê·∫øn:</label>
        <input id="sales-to-date" type="date">
        <button id="btn-load-sales" class="btn-small">T·∫£i b√°o c√°o</button>
      </div>
    </div>
    
    <!-- Summary Stats -->
    <div class="sales-summary">
      <div class="summary-item">
        <div class="summary-label">T·ªïng doanh thu</div>
        <div class="summary-value" id="sales-total-revenue">-</div>
      </div>
      <div class="summary-item">
        <div class="summary-label">T·ªïng ƒë∆°n h√†ng</div>
        <div class="summary-value" id="sales-total-orders">-</div>
      </div>
      <div class="summary-item">
        <div class="summary-label">Gi√° tr·ªã ƒë∆°n TB</div>
        <div class="summary-value" id="sales-avg-order">-</div>
      </div>
    </div>

    <!-- Chart -->
    <div class="chart-container">
      <canvas id="sales-chart"></canvas>
    </div>

    <!-- Table -->
    <div class="table-wrap">
      <table id="sales-report-table">
        <thead>
          <tr>
            <th>Th·ªùi gian</th>
            <th class="text-center">Doanh thu</th>
            <th class="text-center">S·ªë ƒë∆°n h√†ng</th>
            <th class="text-center">Gi√° tr·ªã ƒë∆°n TB</th>
          </tr>
        </thead>
        <tbody>
          <tr><td colspan="4" class="muted">Ch·ªçn period v√† nh·∫•n "T·∫£i b√°o c√°o" ƒë·ªÉ xem d·ªØ li·ªáu...</td></tr>
        </tbody>
      </table>
    </div>
  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="loading.js"></script>
<script src="auth.js"></script>
<script src="cache.js"></script>
<script src="common.js"></script>
<script src="worker-api.js"></script>
<script src="reports.js"></script>
</body>
</html>
