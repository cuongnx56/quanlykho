<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>CÃ i Ä‘áº·t</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="sidebar.css">
  <link rel="stylesheet" href="settings.css">
  <link rel="stylesheet" href="loading.css">
  <link rel="stylesheet" href="navigation.css">

  <link rel="icon" type="image/png" href="/favico.png">   
</head>
<body>

<!-- Sidebar Navigation - Loaded from sidebar.html -->
<div id="sidebar-container"></div>
<button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="Toggle menu">â˜°</button>

<header class="topbar">
  <div class="container">
    <h1>âš™ï¸ CÃ i Ä‘áº·t</h1>
    <div class="session-actions">
    <div id="session-info" class="session-info"></div>
      <button id="btn-logout" class="btn-logout hidden" type="button">ÄÄƒng xuáº¥t</button>
    </div>
  </div>
</header>

<main class="container">
  <section class="card" id="login-section">
    <h2>ÄÄƒng nháº­p quáº£n trá»‹</h2>
    <div class="grid">
      <div>
        <label>API KEY</label>
        <input id="api_key" type="text" placeholder="API KEY">
      </div>
      <div>
        <label>Email owner</label>
        <input id="email" type="email" placeholder="owner@shop.com">
      </div>
      <div>
        <label>Password owner</label>
        <input id="password" type="password" placeholder="password">
      </div>
    </div>
    <button id="btn-login">ÄÄƒng nháº­p</button>
  </section>

  <section class="card" id="settings-section" style="display: none;">
    <div class="card-header">
      <h2>ThÃ´ng tin Cá»­a hÃ ng</h2>
      <p class="subtitle">ThÃ´ng tin nÃ y sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng trong hÃ³a Ä‘Æ¡n vÃ  cÃ¡c tÃ i liá»‡u khÃ¡c</p>
    </div>

    <form id="settings-form">
      <div class="form-group">
        <label for="shop_name">TÃªn cá»­a hÃ ng *</label>
        <input type="text" id="shop_name" name="shop_name" placeholder="VD: Cá»­a hÃ ng ABC" required>
        <small>TÃªn cá»­a hÃ ng sáº½ hiá»ƒn thá»‹ trÃªn hÃ³a Ä‘Æ¡n</small>
      </div>

      <div class="form-group">
        <label for="shop_address">Äá»‹a chá»‰</label>
        <textarea id="shop_address" name="shop_address" rows="3" placeholder="VD: 123 ÄÆ°á»ng ABC, PhÆ°á»ng XYZ, Quáº­n 1, TP.HCM"></textarea>
        <small>Äá»‹a chá»‰ cá»­a hÃ ng</small>
      </div>

      <div class="form-group">
        <label for="shop_phone">Sá»‘ Ä‘iá»‡n thoáº¡i</label>
        <input type="tel" id="shop_phone" name="shop_phone" placeholder="VD: 0901234567">
        <small>Sá»‘ Ä‘iá»‡n thoáº¡i liÃªn há»‡</small>
      </div>

      <div class="form-group">
        <label for="shop_email">Email</label>
        <input type="email" id="shop_email" name="shop_email" placeholder="VD: contact@shop.com">
        <small>Email liÃªn há»‡</small>
      </div>

      <div class="form-group">
        <label for="shop_tax_code">MÃ£ sá»‘ thuáº¿</label>
        <input type="text" id="shop_tax_code" name="shop_tax_code" placeholder="VD: 0123456789">
        <small>MÃ£ sá»‘ thuáº¿ (náº¿u cÃ³)</small>
      </div>

      <div class="form-group">
        <label for="currency">ÄÆ¡n vá»‹ tiá»n tá»‡</label>
        <select id="currency" name="currency">
          <option value="VND">VND (Viá»‡t Nam Äá»“ng)</option>
          <option value="USD">USD (US Dollar)</option>
          <option value="EUR">EUR (Euro)</option>
        </select>
        <small>ÄÆ¡n vá»‹ tiá»n tá»‡ máº·c Ä‘á»‹nh</small>
      </div>

      <div class="form-group" style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid #e5e7eb;">
        <h3 style="margin-bottom: 1rem;">ğŸ“¸ Cáº¥u hÃ¬nh Upload áº¢nh (GitHub)</h3>
        <p style="color: #6b7280; margin-bottom: 1.5rem; font-size: 0.9rem;">
          Cáº¥u hÃ¬nh GitHub Ä‘á»ƒ upload áº£nh sáº£n pháº©m. Táº¡o GitHub Personal Access Token vá»›i quyá»n <code>repo</code>.
        </p>
      </div>

      <div class="form-group">
        <label for="github_owner">GitHub Owner (Username) *</label>
        <input type="text" id="github_owner" name="github_owner" placeholder="VD: nguyenxuancuongk56">
        <small>TÃªn ngÆ°á»i dÃ¹ng GitHub cá»§a báº¡n</small>
      </div>

      <div class="form-group">
        <label for="github_repo">GitHub Repository *</label>
        <input type="text" id="github_repo" name="github_repo" placeholder="VD: product-images">
        <small>TÃªn repository GitHub Ä‘á»ƒ lÆ°u áº£nh (pháº£i lÃ  public repository)</small>
      </div>

      <div class="form-group">
        <label for="github_branch">GitHub Branch</label>
        <input type="text" id="github_branch" name="github_branch" placeholder="main" value="main">
        <small>Branch máº·c Ä‘á»‹nh: main</small>
      </div>

      <div class="form-group">
        <label for="github_token">GitHub Personal Access Token *</label>
        <input type="password" id="github_token" name="github_token" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx">
        <small>
          Token vá»›i quyá»n <code>repo</code>. 
          <a href="https://github.com/settings/tokens" target="_blank" style="color: #3b82f6;">Táº¡o token táº¡i Ä‘Ã¢y</a>
        </small>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn-primary" id="btn-save">ğŸ’¾ LÆ°u cÃ i Ä‘áº·t</button>
        <button type="button" class="btn-secondary" id="btn-cancel">Há»§y</button>
      </div>
    </form>
  </section>
</main>

<script src="common.js"></script>
<script src="auth.js"></script>
<script src="loading.js"></script>
<script src="cache.js"></script>
<script src="worker-api.js"></script>
<script>
  // Load sidebar HTML from sidebar.html
  (function() {
    fetch('sidebar.html')
      .then(response => {
        if (!response.ok) {
          throw new Error('Failed to load sidebar');
        }
        return response.text();
      })
      .then(html => {
        document.getElementById('sidebar-container').innerHTML = html;
        // Initialize sidebar after loading
        const script = document.createElement('script');
        script.src = 'sidebar.js';
        script.onload = function() {
          console.log('âœ… Sidebar loaded and initialized');
        };
        document.body.appendChild(script);
      })
      .catch(err => {
        console.error('âŒ Error loading sidebar:', err);
        // Fallback: show error message
        document.getElementById('sidebar-container').innerHTML = 
          '<div style="padding: 20px; color: #ef4444;">Error loading sidebar</div>';
      });
  })();
</script>
<script src="settings.js"></script>

</body>
</html>
